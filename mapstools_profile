# shell agnostic settings file
# NOTE: Never source or call other scripts from this file!

# echo our path for debugging purposes whenever we are run
if [[ $- =~ "i" ]]; then
   if [ -n "$BASH_VERSION" ]; then
       echo ${BASH_SOURCE[0]}
   elif [ -n "$ZSH_VERSION" ]; then
       echo ${(%):-%N}
   fi
fi

# ABSOLUTE path to your source folder
SRC_DIR="/Users/$(who am i | awk '{print $1}')/src/"
export SRC_DIR
launchctl setenv SRC_DIR "${SRC_DIR}"

# ABSOLUTE path to the MapsStack folder, which should be a top level folder in your src tree
MAPS_STACK_DIR="$SRC_DIR"/MapsStack/
export MAPS_STACK_DIR
launchctl setenv MAPS_STACK_DIR "${MAPS_STACK_DIR}"

# ABSOLUTE path to where SxS Xcodes should be installed
SXS_XCODE_DIR=/Applications/Xcode/
export SXS_XCODE_DIR
launchctl setenv SXS_XCODE_DIR "${SXS_XCODE_DIR}"

# your Open Directory username
OD_USERNAME=julien_grimault
export OD_USERNAME
launchctl setenv OD_USERNAME "${OD_USERNAME}"

# your AppleConnect username
AC_USERNAME=julien_grimault
export AC_USERNAME
launchctl setenv AC_USERNAME "${AC_USERNAME}"

# set to "NO_MAPSTOOLS" to skip MapsTools repo state checks
NO_MAPSTOOLS=""
export NO_MAPSTOOLS
launchctl setenv NO_MAPSTOOLS "${NO_MAPSTOOLS}"

# set to a branch name if you do not want to require tooling to work out of master
# (most users will leave this as an empty string)
MAPSTOOLS_BRANCH=""
export MAPSTOOLS_BRANCH
launchctl setenv MAPSTOOLS_BRANCH "$MAPSTOOLS_BRANCH"

# Enable/Disable Build Metrics.
# Values:
#  - empty string: enable metrics (max overhead <8s, typical ~5s) (default)
#  - non-empty string: enable metrics but do report to server (typical overhead <1s)
#  - "NO_LOCAL": disable metrics (typical "overhead" <0.1s)
MAPSTOOLS_METRICS_OPT_OUT="EXIT0"
export MAPSTOOLS_METRICS_OPT_OUT
launchctl setenv MAPSTOOLS_METRICS_OPT_OUT "$MAPSTOOLS_METRICS_OPT_OUT"

# Set some text to attribute your metrics to.
# Examples:
#  - ""             # no attribution (default)
#  - "@mribau"      # @ + your peppy username, probably matches your od username
#  - "$HOSTNAME"    # your machine name
#  - "@mribau - $HOSTNAME"   # both
MAPSTOOLS_METRICS_ATTRIBUTION=""
export MAPSTOOLS_METRICS_ATTRIBUTION
launchctl setenv MAPSTOOLS_METRICS_ATTRIBUTION "$MAPSTOOLS_METRICS_ATTRIBUTION"

# set our PYTHONPATH to include our SRC_DIR
PYTHONPATH="${SRC_DIR}":"${PYTHONPATH}"
export PYTHONPATH
launchctl setenv PYTHONPATH "${PYTHONPATH}"

# add arcanist to the PATH
PATH="${PATH}":/Users/$(who am i | awk '{print $1}')/bin/arcanist/bin
export PATH
launchctl setenv PATH "${PATH}"
